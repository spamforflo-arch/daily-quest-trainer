@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Dark teal fitness theme */
    --background: 180 30% 12%;
    --foreground: 180 10% 95%;

    --card: 180 25% 18%;
    --card-foreground: 180 10% 95%;

    --popover: 180 25% 16%;
    --popover-foreground: 180 10% 95%;

    --primary: 180 20% 35%;
    --primary-foreground: 180 10% 95%;

    --secondary: 180 20% 25%;
    --secondary-foreground: 180 10% 90%;

    --muted: 180 15% 22%;
    --muted-foreground: 180 10% 65%;

    --accent: 180 30% 40%;
    --accent-foreground: 180 10% 98%;

    --destructive: 0 62.8% 50%;
    --destructive-foreground: 0 0% 98%;

    --border: 180 20% 28%;
    --input: 180 20% 28%;
    --ring: 180 30% 50%;

    --radius: 1rem;

    /* Custom design tokens */
    --gradient-bg: linear-gradient(180deg, hsl(180 30% 14%) 0%, hsl(180 25% 18%) 100%);
    --card-glow: 0 4px 24px -4px hsla(180, 40%, 20%, 0.5);
    --quest-glow: 0 0 20px hsla(180, 50%, 40%, 0.3);
    --checkbox-size: 2.5rem;
  }

  .dark {
    --background: 180 30% 12%;
    --foreground: 180 10% 95%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    background: var(--gradient-bg);
    min-height: 100vh;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }
}

@layer components {
  .quest-card {
    @apply rounded-2xl border border-border/50 px-5 py-3 transition-all duration-200;
    background: linear-gradient(135deg, hsl(180 25% 22%) 0%, hsl(180 25% 18%) 100%);
    box-shadow: var(--card-glow);
  }

  .quest-card:active {
    transform: scale(0.98);
    box-shadow: var(--quest-glow);
  }

  .workout-card {
    @apply rounded-2xl border border-border/40 px-6 py-5 transition-all duration-150;
    background: linear-gradient(145deg, hsl(180 22% 20%) 0%, hsl(180 22% 17%) 100%);
    box-shadow: var(--card-glow);
  }

  .workout-card:active {
    transform: scale(0.99);
  }

  .calendar-card {
    @apply rounded-3xl border border-border/30 p-6;
    background: linear-gradient(160deg, hsl(180 22% 19%) 0%, hsl(180 22% 16%) 100%);
    box-shadow: var(--card-glow);
  }

  .goal-title {
    @apply text-5xl font-black tracking-wider text-foreground;
    text-shadow: 0 2px 10px hsla(180, 30%, 60%, 0.2);
  }

  .goal-underline {
    @apply h-1 w-48 mx-auto mt-2 rounded-full;
    background: linear-gradient(90deg, transparent, hsl(180 20% 50%), transparent);
  }

  .toggle-btn {
    @apply rounded-full border border-border/50 px-6 py-3 text-sm font-medium transition-all duration-200;
    background: linear-gradient(145deg, hsl(180 22% 22%) 0%, hsl(180 22% 18%) 100%);
  }

  .toggle-btn:active {
    transform: scale(0.97);
  }

  .nav-btn {
    @apply w-10 h-10 rounded-full border border-border/40 flex items-center justify-center transition-all duration-150;
    background: hsl(180 22% 20%);
  }

  .nav-btn:active {
    transform: scale(0.95);
    background: hsl(180 22% 25%);
  }

  .custom-checkbox {
    @apply rounded-lg border-2 border-border/60 transition-all duration-200;
    width: var(--checkbox-size);
    height: var(--checkbox-size);
    background: transparent;
  }

  .custom-checkbox.checked {
    @apply border-accent bg-accent/20;
  }

  .modal-overlay {
    @apply fixed inset-0 z-50 flex items-center justify-center;
    background: hsla(180, 30%, 8%, 0.9);
    backdrop-filter: blur(4px);
  }

  .modal-content {
    @apply rounded-3xl border border-border/40 p-6 mx-4 w-full max-w-sm;
    background: linear-gradient(160deg, hsl(180 22% 18%) 0%, hsl(180 22% 14%) 100%);
    box-shadow: 0 8px 40px hsla(180, 40%, 10%, 0.8);
  }

  .time-input {
    @apply rounded-xl border border-border/50 px-4 py-3 text-center text-2xl font-bold bg-muted text-foreground w-24;
  }

  .time-input:focus {
    @apply outline-none ring-2 ring-accent/50;
  }
}

/* Calendar day styles */
.calendar-day {
  @apply w-10 h-10 flex items-center justify-center text-sm rounded-lg transition-colors duration-150;
}

.calendar-day.today {
  @apply bg-primary/40 font-bold;
}

.calendar-day.completed {
  @apply bg-accent/30 text-accent-foreground;
}

.calendar-day.other-month {
  @apply text-muted-foreground/50;
}

/* Animations */
@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 15px hsla(180, 50%, 40%, 0.2); }
  50% { box-shadow: 0 0 25px hsla(180, 50%, 40%, 0.4); }
}

@keyframes check-pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.animate-check {
  animation: check-pop 0.2s ease-out;
}

.animate-glow {
  animation: pulse-glow 2s ease-in-out infinite;
}
